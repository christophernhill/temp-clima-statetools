#
# docker run --rm -d jupyter/datascience-notebook  
#
# docker exec -i -t -u 0 thirsty_williamson /bin/bash
# apt-get update
# apt-get install openmpi-'*' libopenmpi-'*'
# apt-get install ssh
# 
# docker exec -i -t thirsty_williamson /bin/bash
# git clone https://github.com/christophernhill/temp-clima-statetools.git  # SHOULD BE THIS REPO
# julia> using Pkg
# julia> ps=PackageSpec(url="https://github.com/jm-c/CLIMA.git",rev="jmc/split_explicit_dvlp")
# julia> Pkg.add(ps)
# julia> Pkg.add("StaticArrays")
# julia> Pkg.add("GPUifyLoops")
# julia> include("temp-clima-statetools/example/Ocean/SplitExplicit/simple_box_sRate_cnh.jl")
#

name: a test
on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
     - name: Setup base env
       run: sudo apt-get -y install openmpi-'*' ssh curl 
     - name: Get julia
       run: |
            sudo curl  --silent --show-error --fail --http1.0 https://julialang-s3.julialang.org/bin/linux/x64/1.3/julia-1.3.1-linux-x86_64.tar.gz > /opt/julia-1.3.1-linux-x86_64.tar.gz
            cd /opt
            pwd
            /bin/ls -altr
            sudo tar -xzvf /opt/julia-1.3.1-linux-x86_64.tar.gz
     - name: Show run directory
       run: /bin/ls -altr
